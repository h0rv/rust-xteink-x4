[package]
name = "xteink-ui"
version = "0.1.0"
edition = "2021"

[features]
default = ["fontdue"]
std = ["html2text", "quick-xml"]

[dependencies]
embedded-graphics = "0.8"
embedded-text = "0.7.3"

# Logging (no_std compatible)
log = "0.4"

# EPUB support now built-in via streaming ZIP + quick-xml
# Old epub crate removed - using custom implementation

# TTF font rendering with no_std support - always enabled
fontdue = { version = "0.9.3", optional = true }

# HTML parsing for EPUB content  
html2text = { version = "0.16.7", optional = true }

# XML parsing for EPUB metadata (SAX-style)
quick-xml = { version = "0.37", optional = true }

# ZIP streaming support for EPUB files (no_std compatible)
miniz_oxide = { version = "0.8", default-features = false, features = ["with-alloc"] }
crc32fast = { version = "1.4", default-features = false }
heapless = { version = "0.8", default-features = false }

# E-ink display driver (re-exported for firmware use)
# Using local path during development - change to crates.io version when published
ssd1677 = { path = "/home/h0rv/projects/ssd1677" }

[dev-dependencies]
# For tests

# Tests use miniz_oxide for decompression, not flate2
# flate2 disabled due to std compatibility issues
